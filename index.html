index.html
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏´‡∏Å‡∏£‡∏ì‡πå‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Kanit:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Kanit', 'Inter', sans-serif; }
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô */
        #notification { transition: opacity 0.3s ease-in-out; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Header / Navbar -->
    <nav class="bg-indigo-600 text-white p-4 shadow-xl sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-bold tracking-tight">üè´ School Shop (‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏´‡∏Å‡∏£‡∏ì‡πå)</h1>
            <!-- Cart Button -->
            <button onclick="toggleCart()" class="flex items-center space-x-2 bg-pink-400 hover:bg-pink-500 transition duration-300 text-white px-4 py-2 rounded-full font-bold shadow-md">
                <span class="text-xl">üõí</span>
                <span>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</span>
                <span id="cart-count" class="bg-white text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-extrabold">0</span>
            </button>
        </div>
    </nav>

    <!-- Notification/Alert Box -->
    <div id="notification" class="fixed top-20 right-4 bg-green-500 text-white p-4 rounded-lg shadow-xl hidden opacity-0 z-50">
        <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
    </div>

    <!-- Main Product Area -->
    <div class="container mx-auto p-4 md:p-8">
        <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ö‡∏ö</h2>
        
        <!-- Product Grid -->
        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6" id="product-list">
            <!-- Products will be injected here by JavaScript -->
        </div>
    </div>

    <!-- Cart Modal (Contains Cart View and Form View) -->
    <div id="cart-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex justify-center items-center z-50 p-4">
        <div class="bg-white w-full max-w-lg rounded-xl p-6 shadow-2xl overflow-y-auto max-h-[90vh]">
            
            <!-- Close Button (Visible in both views) -->
            <div class="flex justify-end">
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-800 text-3xl font-light leading-none">&times;</button>
            </div>
            
            <!-- === View 1: Cart Items Summary === -->
            <div id="cart-view">
                <h2 class="text-2xl font-bold text-indigo-700 border-b pb-3 mb-4">üõí ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
                
                <div id="cart-items" class="space-y-4 mb-6">
                    <!-- Cart items will be displayed here -->
                </div>
    
                <div class="border-t pt-4">
                    <div class="flex justify-between text-2xl font-extrabold mb-4 text-indigo-800">
                        <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                        <span>‡∏ø<span id="total-price">0.00</span></span>
                    </div>
                    
                    <button onclick="showOrderForm()" id="checkout-btn" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-lg hover:bg-green-700 transition duration-200 shadow-lg">
                        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
                    </button>
                    <p class="text-sm text-center text-gray-500 mt-2">‡∏¢‡∏≠‡∏î‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</p>
                </div>
            </div>

            <!-- === View 2: Student Information Form === -->
            <div id="form-view" class="hidden">
                <h2 class="text-2xl font-bold text-indigo-700 border-b pb-3 mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
                
                <div class="space-y-4 mb-6">
                    <!-- Name Input -->
                    <div>
                        <label for="student-name" class="block text-sm font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label>
                        <input type="text" id="student-name" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-3 focus:border-indigo-500 focus:ring-indigo-500" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ">
                    </div>
                    <!-- ID Input -->
                    <div>
                        <label for="student-id" class="block text-sm font-medium text-gray-700">‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (5 ‡∏´‡∏•‡∏±‡∏Å):</label>
                        <input type="number" id="student-id" class="mt-1 block w-full border border-gray-300 rounded-lg shadow-sm p-3 focus:border-indigo-500 focus:ring-indigo-500" min="10000" max="99999" required placeholder="‡πÄ‡∏ä‡πà‡∏ô 12345">
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <button onclick="submitOrder()" class="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold text-lg hover:bg-indigo-700 transition duration-200 shadow-lg mb-2">
                        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                    </button>
                    <button onclick="showCartView()" class="w-full bg-gray-200 text-gray-700 py-2 rounded-lg font-bold">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                </div>
            </div>
            
        </div>
    </div>

    <!-- Final Confirmation Modal (Replaces old alert) -->
    <div id="confirmation-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-80 flex justify-center items-center z-50 p-4">
        <div class="bg-white w-full max-w-md rounded-xl p-8 shadow-2xl text-center">
            <div class="text-5xl mb-4">üéâ</div>
            <h2 class="text-3xl font-bold text-green-600 mb-4">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
            <p class="text-gray-700 mb-6">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÑ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á:</p>
            
            <div id="order-summary-details" class="bg-gray-100 p-4 rounded-lg text-left text-sm mb-6 space-y-2">
                <!-- Order details here -->
            </div>

            <p class="text-lg font-extrabold text-indigo-700">‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: ‡∏ø<span id="final-total">0.00</span> (‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î)</p>
            <p class="text-sm text-red-500 mt-2">‡πÇ‡∏õ‡∏£‡∏î‡πÅ‡∏à‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏™‡∏´‡∏Å‡∏£‡∏ì‡πå!</p>
            
            <button onclick="closeConfirmation()" class="mt-6 w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700">
                ‡∏õ‡∏¥‡∏î
            </button>
        </div>
    </div>


    <script>
        const products = [
            { id: 1, name: '‡∏™‡∏°‡∏∏‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‡∏õ‡∏Å‡∏≠‡πà‡∏≠‡∏ô', price: 15.00, icon: 'üìì', sizeOptions: [] },
            { id: 2, name: '‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏•‡∏π‡∏Å‡∏•‡∏∑‡πà‡∏ô ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', price: 10.00, icon: 'üñäÔ∏è', sizeOptions: [] },
            { id: 3, name: '‡∏î‡∏¥‡∏ô‡∏™‡∏≠ 2B', price: 8.00, icon: '‚úèÔ∏è', sizeOptions: [] },
            { id: 4, name: '‡∏¢‡∏≤‡∏á‡∏•‡∏ö Staedtler', price: 5.00, icon: '‚¨ú', sizeOptions: [] },
            { id: 5, name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢ (‡∏Ñ‡∏≠‡∏õ‡∏Å)', price: 280.00, icon: 'üëî', sizeOptions: ['S', 'M', 'L', 'XL', 'XXL'] },
            { id: 6, name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á (‡∏Ñ‡∏≠‡∏ö‡∏±‡∏ß)', price: 300.00, icon: 'üëö', sizeOptions: ['S', 'M', 'L', 'XL', 'XXL'] }
        ];

        let cart = [];

        // Elements
        const cartModal = document.getElementById('cart-modal');
        const cartView = document.getElementById('cart-view');
        const formView = document.getElementById('form-view');
        const confirmationModal = document.getElementById('confirmation-modal');

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (‡πÅ‡∏ó‡∏ô alert)
        function showNotification(message, isError = false) {
            const notification = document.getElementById('notification');
            notification.innerText = message;
            notification.classList.remove('hidden', 'bg-green-500', 'bg-red-500');
            notification.classList.add(isError ? 'bg-red-500' : 'bg-green-500');
            
            // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÇ‡∏ú‡∏•‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
            setTimeout(() => {
                notification.style.opacity = '1';
            }, 10); 

            // ‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.classList.add('hidden'), 300);
            }, 3000);
        }

        // 1. ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
        function displayProducts() {
            const list = document.getElementById('product-list');
            list.innerHTML = products.map(p => `
                <div class="bg-white p-4 rounded-xl shadow-lg hover:shadow-xl transition duration-300 flex flex-col justify-between">
                    <div class="text-center">
                        <div class="text-6xl mb-3">${p.icon}</div>
                        <h3 class="text-lg font-bold text-gray-800 mb-1">${p.name}</h3>
                        <p class="text-sm text-gray-500">${p.sizeOptions.length > 0 ? '‡∏°‡∏µ‡πÑ‡∏ã‡∏™‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å' : '‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ã‡∏™‡πå'}</p>
                        <p class="text-indigo-600 font-extrabold text-2xl mb-4">‡∏ø${p.price.toFixed(2)}</p>
                    </div>
                    
                    ${p.sizeOptions.length > 0 ? `
                        <div class="mb-4">
                            <label for="size-${p.id}" class="block text-sm font-medium text-gray-700 text-left mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ã‡∏™‡πå:</label>
                            <select id="size-${p.id}" class="w-full border border-gray-300 rounded-lg p-2 text-gray-700 focus:ring-indigo-500 focus:border-indigo-500">
                                ${p.sizeOptions.map(size => `<option value="${size}">‡πÑ‡∏ã‡∏™‡πå ${size}</option>`).join('')}
                            </select>
                        </div>
                    ` : ''}

                    <button onclick="addToCart(${p.id})" class="w-full bg-indigo-500 text-white py-2 rounded-lg font-semibold hover:bg-indigo-600 transition">
                        + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                    </button>
                </div>
            `).join('');
        }

        // 2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            let itemName = product.name;
            let itemPrice = product.price;
            let size = '';
            
            if(product.sizeOptions.length > 0) {
                const sizeSelect = document.getElementById(`size-${id}`);
                size = sizeSelect ? sizeSelect.value : product.sizeOptions[0]; // ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏Å
                itemName += ` (‡πÑ‡∏ã‡∏™‡πå ${size})`;
            }

            cart.push({ name: itemName, price: itemPrice, size: size, icon: product.icon });
            updateCart();
            showNotification(`‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° ${itemName} ‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß!`);
        }

        // 3. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°
        function updateCart() {
            document.getElementById('cart-count').innerText = cart.length;
            const cartItemsContainer = document.getElementById('cart-items');
            const totalPrice = cart.reduce((sum, item) => sum + item.price, 0);
            
            document.getElementById('total-price').innerText = totalPrice.toFixed(2);
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-gray-500 text-center py-4">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤! ‡∏°‡∏≤‡∏ä‡πâ‡∏≠‡∏õ‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞</p>';
                document.getElementById('checkout-btn').disabled = true;
                return;
            } else {
                document.getElementById('checkout-btn').disabled = false;
            }

            // ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô
            const groupedCart = cart.reduce((acc, item) => {
                const key = `${item.name}-${item.price}`;
                if (!acc[key]) {
                    acc[key] = { ...item, quantity: 0, indices: [] };
                }
                acc[key].quantity++;
                acc[key].indices.push(cart.indexOf(item));
                return acc;
            }, {});

            cartItemsContainer.innerHTML = Object.values(groupedCart).map(item => `
                <div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg border">
                    <div class="flex items-center space-x-3">
                        <span class="text-2xl">${item.icon}</span>
                        <div>
                            <span class="font-semibold text-gray-800">${item.name}</span>
                            <p class="text-sm text-gray-500">‡∏ø${item.price.toFixed(2)} x ${item.quantity}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="font-bold text-indigo-700">‡∏ø${(item.price * item.quantity).toFixed(2)}</span>
                        <button onclick="removeItemGroup('${item.name}')" class="text-red-500 hover:text-red-700 transition p-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v6a1 1 0 102 0V8z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // 4. ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        function removeItemGroup(itemName) {
            cart = cart.filter(item => item.name !== itemName);
            updateCart();
            showNotification(`üóëÔ∏è ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ${itemName} ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß`);
        }

        // 5. ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Modal ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        function toggleCart() {
            cartModal.classList.toggle('hidden');
            if (!cartModal.classList.contains('hidden')) {
                updateCart(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                showCartView(); // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô
            }
        }

        // 6. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        function showCartView() {
            cartView.classList.remove('hidden');
            formView.classList.add('hidden');
            document.getElementById('student-name').value = '';
            document.getElementById('student-id').value = '';
        }

        // 7. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°
        function showOrderForm() {
            if(cart.length === 0) {
                showNotification('‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô', true);
                return;
            }
            cartView.classList.add('hidden');
            formView.classList.remove('hidden');
        }

        // 8. ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°)
        function submitOrder() {
            const studentName = document.getElementById('student-name').value.trim();
            const studentId = document.getElementById('student-id').value.trim();
            const totalPrice = document.getElementById('total-price').innerText;

            if (!studentName) {
                return showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•', true);
            }
            if (!studentId || studentId.length !== 5 || isNaN(studentId)) {
                return showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 5 ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', true);
            }
            
            // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ
            let orderSummaryHtml = `
                <p><strong>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á:</strong> ${studentName}</p>
                <p><strong>‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß:</strong> ${studentId}</p>
                <p class="mt-2 font-semibold">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</p>
            `;

            Object.values(cart.reduce((acc, item) => {
                const key = `${item.name}-${item.price}`;
                if (!acc[key]) acc[key] = { ...item, quantity: 0 };
                acc[key].quantity++;
                return acc;
            }, {})).forEach(item => {
                orderSummaryHtml += `<p class="ml-4">- ${item.name} x ${item.quantity} (‡∏ø${(item.price * item.quantity).toFixed(2)})</p>`;
            });

            // ‡πÅ‡∏™‡∏î‡∏á Confirmation Modal
            document.getElementById('order-summary-details').innerHTML = orderSummaryHtml;
            document.getElementById('final-total').innerText = totalPrice;
            
            cartModal.classList.add('hidden');
            confirmationModal.classList.remove('hidden');
        }

        // 9. ‡∏õ‡∏¥‡∏î Modal ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        function closeConfirmation() {
            confirmationModal.classList.add('hidden');
            cart = [];
            updateCart();
            showNotification('üéâ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠!');
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏≠‡∏õ
        displayProducts();
    </script>
</body>
</html>
